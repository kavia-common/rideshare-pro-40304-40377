{"is_source_file": true, "format": "JavaScript", "description": "This file provides client-side utility functions for interacting with a RESTful API, including resolving API base URLs, managing WebSocket URLs, and wrapping fetch calls with proper headers and error handling. It also exports public functions for retrieving configured API and WebSocket URLs.", "external_files": ["process.env", "window.__APP_CONFIG__", "localStorage", "fetch"], "external_methods": ["localStorage.getItem", "fetch"], "published": ["getApiBase", "getWsUrl", "apiFetch"], "classes": [], "methods": [{"name": "normalizeBase(url)", "description": "Removes trailing slashes from a URL to normalize it.", "scope": "", "scopeKind": ""}, {"name": "resolveApiBase()", "description": "Determines the API base URL from environment variables, window configuration, or legacy fallback, then normalizes it.", "scope": "", "scopeKind": ""}, {"name": "getApiBase()", "description": "Returns the cached API base URL, resolving it if necessary.", "scope": "", "scopeKind": ""}, {"name": "getWsUrl()", "description": "Returns the WebSocket URL derived from environment/config or the API base URL.", "scope": "", "scopeKind": ""}, {"name": "apiFetch(path, options = {})", "description": "Performs a fetch request to the API with proper headers, including authorization, and handles responses and errors.", "scope": "", "scopeKind": ""}], "calls": ["resolveApiBase", "getApiBase", "localStorage.getItem", "fetch"], "search-terms": ["apiFetch", "resolveApiBase", "getWsUrl", "public interface", "WebSocket URL", "API base resolution", "environment variables", "configuration", "fetch wrapper"], "state": 2, "file_id": 17, "knowledge_revision": 77, "git_revision": "f731c3948099f239181982a456afdbeeafb22096", "revision_history": [{"39": ""}, {"74": "49db6e3864a5d308ffbd85f87e36e23d306201ea"}, {"77": "f731c3948099f239181982a456afdbeeafb22096"}], "ctags": [{"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^  const headers = { 'Content-Type': 'application\\/json', ...(options.headers || {}) };$/", "language": "JavaScript", "kind": "property", "scope": "apiFetch.headers", "scopeKind": "class"}, {"_type": "tag", "name": "WS_URL", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^const WS_URL = process.env.REACT_APP_WS_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__API_BASE_CACHE", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^let __API_BASE_CACHE;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^export async function apiFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^export function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getWsUrl", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^export function getWsUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^  const headers = { 'Content-Type': 'application\\/json', ...(options.headers || {}) };$/", "language": "JavaScript", "kind": "class", "scope": "apiFetch", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeBase", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^function normalizeBase(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "resolveApiBase", "path": "/home/kavia/workspace/code-generation/rideshare-pro-40304-40377/ride_booking_frontend/src/services/apiClient.js", "pattern": "/^function resolveApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "999bb25ae8ea4bca588c173186ab388d", "format-version": 4, "code-base-name": "ride_booking_frontend", "filename": "ride_booking_frontend/src/services/apiClient.js", "fields": [{"name": "const headers = { 'Content-Type': 'application\\/json', ...(options.headers || {}) };", "scope": "apiFetch.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "let __API_BASE_CACHE;", "scope": "", "scopeKind": "", "description": "unavailable"}]}